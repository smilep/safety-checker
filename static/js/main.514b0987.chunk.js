(this["webpackJsonpsafety-checker"]=this["webpackJsonpsafety-checker"]||[]).push([[0],{124:function(e,t,a){e.exports=a.p+"static/media/no.edeb6af2.gif"},128:function(e,t,a){e.exports=a(246)},225:function(e,t,a){},226:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);a(129),a(109);var n=a(0),r=a.n(n),o=a(30),i=a.n(o),s=(a(225),a(226),a(51)),c=a(52),l=a(56),u=a(57),d=a(79),h=a(252),f=a(253),m=a(250),p=a(251),v=a(125),C=a(122),y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(C.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"}," Loading... ")," ")}}]),a}(r.a.Component),g=a(124),E=a.n(g),b=a(78),w=a.n(b),k=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).loadData=function(){fetch("https://api.covid19api.com/countries").then((function(e){return e.json()})).then((function(e){e.sort((function(e,t){return e.Slug.localeCompare(t.Slug)})),n.setState({countries:e})})).then((function(){fetch("https://api.covid19api.com/summary").then((function(e){if(!e.ok)throw new Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){n.setState({data:e,done:!0})})).catch((function(e){alert(e)}))}))},n.handleCountryChange=function(e){var t=e[0];if(t){var a=n.state.data.Countries.filter((function(e){return t.Slug?e.Slug===t.Slug:null}))[0];if(a){a.activeCases=a.TotalConfirmed-a.TotalRecovered;var r=new Date(a.Date),o=r.toDateString()+" "+r.toLocaleTimeString();n.setState({selectedCountry:a,lastUpdated:o})}else a={activeCases:null,Country:t.Country},n.setState({selectedCountry:a,lastUpdated:null});n.ref.current.clear(),n.ref.current.blur()}},n.state={message:"Should I stop taking COVID-19 precautions?",done:!1,lastUpdated:"",countries:[],data:{}},n.ref=r.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadData(),this.initializeReactGA()}},{key:"initializeReactGA",value:function(){d.a.initialize("UA-164046110-1"),d.a.pageview("/homepage")}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.countries.length;t++)e.push(r.a.createElement("option",null," ",this.state.countries[t]," "));return r.a.createElement("div",null,r.a.createElement("h1",null," ",this.state.message," "),!this.state.done&&r.a.createElement(y,null),this.state.done&&r.a.createElement(h.a,null,r.a.createElement(h.a.Group,{controlId:"mainForm.SelectCountry"},r.a.createElement(v.a,{id:"selectCountry",multiple:!1,onChange:this.handleCountryChange,placeholder:"Choose a Country...",options:this.state.countries,labelKey:"Country",ref:this.ref}))),this.state.selectedCountry&&this.state.selectedCountry.Country&&this.state.selectedCountry.activeCases>0&&r.a.createElement("div",null,r.a.createElement(f.a,{variant:"danger"},this.state.selectedCountry.Country," has"," ",r.a.createElement("b",null,this.state.selectedCountry.activeCases)," active COVID-19 cases. Please don't go out!"),r.a.createElement(m.a,{src:E.a,fluid:!0})," ",r.a.createElement("br",null),r.a.createElement(p.a,{pill:!0,variant:"dark"},"Data last updated at ",this.state.lastUpdated)),this.state.selectedCountry&&this.state.selectedCountry.Country&&null!=this.state.selectedCountry.activeCases&&this.state.selectedCountry.activeCases<1&&r.a.createElement("div",null,r.a.createElement(f.a,{variant:"success"},this.state.selectedCountry.Country," has ",r.a.createElement("b",null,"no")," active COVID-19 cases. You can go out but follow guidelines issued by local authorities."),r.a.createElement(m.a,{src:w.a,fluid:!0})," ",r.a.createElement("br",null),r.a.createElement(p.a,{pill:!0,variant:"dark"},"Data last updated at ",this.state.lastUpdated)),this.state.selectedCountry&&this.state.selectedCountry.Country&&!this.state.selectedCountry.activeCases&&r.a.createElement("div",null,r.a.createElement(f.a,{variant:"success"},"COVID-19 data is not available for"," ",this.state.selectedCountry.Country,". Please check with local authorities."),r.a.createElement(m.a,{src:w.a,fluid:!0})," ",r.a.createElement("br",null)))}}]),a}(r.a.Component);var S=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("hr",null),r.a.createElement("div",{className:"col-md-7"},r.a.createElement(k,null)),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-md-7"},r.a.createElement("span",{className:"developer-text"},"This is not an official website. Data sourced from"," ",r.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19",target:"_blank",rel:"noopener noreferrer"},"Johns Hopkins CSSE"),". Source code available at"," ",r.a.createElement("a",{href:"https://github.com/smilep/safety-checker",target:"_blank",rel:"noopener noreferrer"},"GitHub"),".")))},D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(245);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/safety-checker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/safety-checker","/service-worker.js");D?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):O(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):O(t,e)}))}}()},78:function(e,t,a){e.exports=a.p+"static/media/maybe.c6609bcc.gif"}},[[128,1,2]]]);
//# sourceMappingURL=main.514b0987.chunk.js.map